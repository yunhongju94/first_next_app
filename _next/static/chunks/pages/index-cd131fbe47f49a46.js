(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(3823)}])},3823:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return P}});var t=r(5893),a=r(4051),o=r.n(a),c=r(7294),s=r(8600),i=r(665),u=r(4623),l=r(8005),f=r(4109),d=r(3623),p=r(967);function h(e,n,r,t,a,o,c){try{var s=e[o](c),i=s.value}catch(u){return void r(u)}s.done?n(i):Promise.resolve(i).then(t,a)}function v(e){return function(){var n=this,r=arguments;return new Promise((function(t,a){var o=e.apply(n,r);function c(e){h(o,t,a,c,s,"next",e)}function s(e){h(o,t,a,c,s,"throw",e)}c(void 0)}))}}function x(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var g=function(){var e=(0,c.useState)({email:"",password:""}),n=e[0],r=e[1],a=(0,c.useState)(!0),h=a[0],g=a[1],m=n.email,b=n.password,j=function(e){var t=e.currentTarget,a=t.name,o=t.value;r(function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){x(e,n,r[n])}))}return e}({},n,x({},a,o)))},w=function(){var e=v(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,!h){e.next=8;break}return e.next=5,(0,s.Xb)(i.ON,m,b);case 5:console.log("\uac00\uc785 \uc131\uacf5"),e.next=11;break;case 8:return e.next=10,(0,s.e5)(i.ON,m,b);case 10:console.log("\ub85c\uadf8\uc778 \uc131\uacf5");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=v(o().mark((function e(n){var r,t,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.currentTarget.name,t=new s.hJ,"github"===r&&(t=new s.GH),e.next=5,(0,s.rh)(i.ON,t);case 5:a=e.sent,console.log(a);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,t.jsx)("div",{children:(0,t.jsx)(u.Z,{placeholder:!0,children:(0,t.jsxs)(l.Z,{columns:2,relaxed:"very",stackable:!0,children:[(0,t.jsxs)(l.Z.Column,{children:[(0,t.jsxs)(f.Z,{onSubmit:w,children:[(0,t.jsxs)(d.Z,{size:"huge",textAlign:"center",children:[" ",h?"\uac00\uc785\ud654\uba74":"\ub85c\uadf8\uc778 \ud654\uba74"]}),(0,t.jsx)(f.Z.Input,{icon:"user",iconPosition:"left",label:"Username",placeholder:"Email",type:"test",name:"email",onChange:j,value:m}),(0,t.jsx)(f.Z.Input,{icon:"lock",iconPosition:"left",label:"Password",type:"password",name:"password",placeholder:"password",onChange:j,value:b}),(0,t.jsx)(p.Z,{content:"Login",primary:!0,type:"submit",value:h?"Create Acount ":"Sign-In"})]}),(0,t.jsx)("br",{}),(0,t.jsx)(p.Z,{color:"green",onClick:y,name:"google",children:"google"}),(0,t.jsx)(p.Z,{color:"black",onClick:y,name:"github",children:"github"})]}),(0,t.jsx)(l.Z.Column,{verticalAlign:"middle",children:(0,t.jsx)(p.Z,{color:"brown",onClick:function(){return g((function(e){return!e}))},children:h?"\ub85c\uadf8\uc778\ud558\ub7ec\uac00\uae30":"\uac00\uc785\ud558\ub7ec\uac00\uae30"})})]})})})},m=r(650),b=r(672),j=r(1153),w=(r(3014),r(5321)),y=r(5934),Z=r(912);function O(e,n,r,t,a,o,c){try{var s=e[o](c),i=s.value}catch(u){return void r(u)}s.done?n(i):Promise.resolve(i).then(t,a)}function k(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var C=function(e){var n=e.user,r=(0,c.useState)(""),a=r[0],s=r[1],u=(0,c.useState)(),l=u[0],h=u[1],v=(0,c.useState)(""),x=v[0],g=v[1],C=function(){var e,r=(e=o().mark((function e(r){var t,c,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),t=(0,j.iH)(i.Hw,"".concat(n.uid,"/").concat((0,y.Z)())),e.prev=2,c="https://firebasestorage.googleapis.com/v0/b/sparrow-bfbaf.appspot.com/o/sTQXEaT5sMgCljKeg9qrFmALTFS2%2F1.jpg?alt=media&token=34a089bc-77da-4e3e-a672-f123689538c4",""===x){e.next=11;break}return e.next=7,(0,j.sf)(t,x,"data_url");case 7:return u=e.sent,e.next=10,(0,j.Jt)(u.ref);case 10:c=e.sent;case 11:return l={text:a,username:n.displayName,createAt:Date.now(),createBy:n.uid,url:c},e.next=14,(0,w.ET)((0,w.hJ)(i.wO,"dove"),l);case 14:s(""),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[2,17]])})),function(){var n=this,r=arguments;return new Promise((function(t,a){var o=e.apply(n,r);function c(e){O(o,t,a,c,s,"next",e)}function s(e){O(o,t,a,c,s,"throw",e)}c(void 0)}))});return function(e){return r.apply(this,arguments)}}();return(0,c.useEffect)((function(){var e=(0,w.IO)((0,w.hJ)(i.wO,"dove"),(0,w.Xo)("createAt","desc"));(0,w.cf)(e,(function(e){var r=e.docs.map((function(e){return function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){k(e,n,r[n])}))}return e}({id:e.id,userPhoto:null===n||void 0===n?void 0:n.photoURL},e.data())}));h(r)}))}),[]),(0,t.jsxs)("div",{children:[(0,t.jsxs)(d.Z,{as:"h2",children:[(0,t.jsx)(m.Z,{circular:!0,src:"https://firebasestorage.googleapis.com/v0/b/sparrow-bfbaf.appspot.com/o/sTQXEaT5sMgCljKeg9qrFmALTFS2%2Fscit40%20%EC%9C%A4%ED%99%8D%EC%A3%BC.jpg?alt=media&token=b68480d9-c695-4f0b-9fc1-7feeaa1a83dd"}),n&&(n.displayName||"Unknown User"),"\ub2d8, \ud658\uc601\ud569\ub2c8\ub2e4."]}),(0,t.jsxs)(f.Z,{onSubmit:C,children:[(0,t.jsx)(b.Z,{placeholder:"\uc9c0\uae08 \ubb34\uc2a8 \uc0dd\uac01 \ud558\ub098\uc694?",onChange:function(e){s(e.currentTarget.value)},value:a}),(0,t.jsxs)("div",{style:{display:"flex"},children:[(0,t.jsx)(p.Z,{className:"button",primary:!0,children:"Sparrow!!"}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var n=e.currentTarget.files;if(n){var r=n&&n[0],t=new FileReader;t.onloadend=function(e){g(e.currentTarget.result)},t.readAsDataURL(r)}}})]})]}),(0,t.jsx)("div",{children:l&&(0,t.jsx)(Z.Z,{sparrows:l})})]})},P=function(e){var n=e.isLoggedIn,r=e.user;return(0,t.jsx)("div",{children:n?(0,t.jsx)(C,{user:r}):(0,t.jsx)(g,{})})}},912:function(e,n,r){"use strict";var t=r(5893),a=(r(7294),r(1574)),o=r(5150);function c(e){var n=e.sparrow,r=n.text,c=n.createAt,s=new Date(c),i="".concat(s.getFullYear(),"/").concat(s.getMonth()+1,"/").concat(s.getDate());return(0,t.jsx)("div",{style:{margin:20},children:(0,t.jsx)(a.Z.Group,{children:(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(a.Z.Avatar,{as:"a",src:"".concat(n.url&&n.url)}),(0,t.jsxs)(a.Z.Content,{children:[(0,t.jsx)(a.Z.Author,{children:n.username}),(0,t.jsxs)(a.Z.Metadata,{children:[(0,t.jsx)("div",{children:i}),(0,t.jsx)("div",{children:(0,t.jsx)(o.Z,{name:"star"})})]}),(0,t.jsx)(a.Z.Text,{children:r})]})]})})})}n.Z=function(e){var n=e.sparrows;return(0,t.jsx)("div",{style:{minHeight:"380px",maxHeight:"580px",overflowY:"auto"},children:n&&n.map((function(e){return(0,t.jsx)(c,{sparrow:e},e.id)}))})}}},function(e){e.O(0,[339,774,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);